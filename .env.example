# ===========================================
# ENEOS Sales Automation - Environment Config
# ===========================================

# Server Configuration
NODE_ENV=development
PORT=3000
LOG_LEVEL=info

# ===========================================
# Brevo (Email Marketing)
# ===========================================
# Webhook secret for validating incoming requests
BREVO_WEBHOOK_SECRET=your_brevo_webhook_secret_here

# ===========================================
# Google Gemini AI
# ===========================================
# API Key from Google AI Studio (https://aistudio.google.com/apikey)
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.5-flash

# ===========================================
# LINE Official Account
# ===========================================
# From LINE Developers Console (https://developers.line.biz/)
LINE_CHANNEL_ACCESS_TOKEN=your_line_channel_access_token_here
LINE_CHANNEL_SECRET=your_line_channel_secret_here

# Group ID where notifications will be sent
# To get Group ID: Add bot to group, then check webhook events
LINE_GROUP_ID=your_line_group_id_here

# ===========================================
# Supabase (PostgreSQL Database)
# ===========================================
# From Supabase Dashboard → Settings → API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here
# JWT secret for local token verification (Settings → API → JWT Secret)
SUPABASE_JWT_SECRET=your_supabase_jwt_secret_here

# ===========================================
# Security
# ===========================================
# CORS allowed origins (comma-separated)
# Development:
CORS_ORIGINS=http://localhost:3000
# Production (set in Railway dashboard):
# CORS_ORIGINS=https://eneos-sales-automation-production.up.railway.app

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# Feature Flags
# ===========================================
ENABLE_AI_ENRICHMENT=true
ENABLE_DEDUPLICATION=true
ENABLE_LINE_NOTIFICATIONS=true
# Enable Google Search Grounding for Gemini (more accurate but expensive - $35/1000 requests)
ENABLE_GOOGLE_SEARCH_GROUNDING=true

# ===========================================
# Redis (Optional - falls back to in-memory)
# ===========================================
# Enable Redis for distributed caching (useful for multi-instance deployments)
REDIS_ENABLED=false
# Redis connection URL (e.g., redis://localhost:6379 or redis://user:password@host:port)
REDIS_URL=redis://localhost:6379

# ===========================================
# Sentry (Optional - Error Tracking)
# ===========================================
# DSN from Sentry dashboard (https://sentry.io/)
# Leave empty to disable Sentry
SENTRY_DSN=
# Environment name for Sentry (defaults to NODE_ENV)
SENTRY_ENVIRONMENT=

# ===========================================
# Development Options (DO NOT USE IN PRODUCTION!)
# ===========================================
# Skip LINE signature verification (ONLY for local development!)
SKIP_LINE_SIGNATURE_VERIFICATION=false
